{{ $ctx := . }}
{{ if isset . "context" }}
    {{ with .context }}
        {{ $ctx = . }}
    {{ end }}
{{ end }}

{{ $badgeSize := 5 }}
{{ if isset . "badgeSize" }}
    {{ $badgeSize = $.badgeSize }}
{{ end }}


{{ $riDiscordFill := resources.Get "img/ri/discord-fill.svg" }}
{{ if $ctx.Site.Params.discord.enabled | default false }}
    {{ $riDiscordFill := resources.Get "img/ri/discord-fill.svg" }}
    {{ $discordInviteCode := $ctx.Site.Params.discord.inviteCode | default "" }}
    <a class="flex items-center space-x-2" href="https://discord.gg/{{ $discordInviteCode }}" target="_blank"
       aria-label="Visit us on Discord">
        <span class="w-{{ $badgeSize }} h-{{ $badgeSize }}">{{ $riDiscordFill.Content | safeHTML }}</span>
    </a>
{{ end }}
